{% extends "base.html" %}
{% load static  %}

{% block title %} Создать профиль студента {% endblock %}
{% block styles %}

<link rel="stylesheet" type="text/css" href= "{% static 'questionary/css/index.css'%} ">
<script type="text/javascript" href= "{% static 'questionary/js/script.js'%} "></script>

{% endblock %}

{% block content %}

<div class="container mt-5">
     {% if message %}
              <div class="alert alert-success alert-general text-cener" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">✖</button>
                       {{ message }}
                </div>
        {% endif %}

        {% if errors %}
              <div class="alert alert-danger alert-general text-cener" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">✖</button>
                       {{ errors }}
                </div>
        {% endif %}
  <div class="text-center">
    <h1 class="text-primary">Сведения о студенте</h1>
    <hr class="mb-5">
  </div>
  <div class="row">
    <div class="col-md-10 order-2">
      <form class="needs-validation" novalidate method="post" enctype="multipart/form-data ">
          {% csrf_token %}
          <div class="form-group row ">
                <label for="lastName" class="col-sm-3 col-form-label">Фамилия: <i class="text-danger"> &#65121</i>  </label>
                    <div class="col-sm-9">
                        {% if student.last_name %}
                         <input type="text" class="form-control" id="lastName" name="lastName" value="{{ student.last_name}}" required readonly placeholder="Иванов">
                            <div class="invalid-feedback">
                                 Поле "Фамилия" является обязательным!
                            </div>
                        {% else %}
                            <input type="text" class="form-control" id="lastName" name="lastName" value="" required placeholder="Иванов">
                            <div class="invalid-feedback">
                                 Поле "Фамилия" является обязательным!
                            </div>
                        {% endif %}
                    </div>
          </div>
          <div class="form-group row ">
                    <label for="firstName" class="col-sm-3 col-form-label">Имя: <i class="text-danger"> &#65121 </i></label>
                        <div class="col-sm-9">
                             {% if student.first_name %}
                                 <input type="text" class="form-control" id="firstName" name="firstName" value="{{ student.first_name }} " required placeholder="Иван">
                                    <div class="invalid-feedback">
                                       Поле "Имя" является обязательным!
                                    </div>
                            {% else %}
                               <input type="text" class="form-control" id="firstName" name="firstName" value="" required placeholder="Иван">
                                    <div class="invalid-feedback">
                                       Поле "Имя" является обязательным!
                                    </div>
                            {% endif %}
                        </div>
          </div>
          <div class="form-group row ">
                    <label for="patronymic" class="col-sm-3 col-form-label ">Отчество: <span class="text-muted">(Необязательно)</span></label>
                        <div class="col-sm-9">
                            {% if student.patronymic %}
                                 <input type="text" class="form-control" id="patronymic" name="patronymic" value="{{ student.patronymic }}" placeholder="Иванович">
                            {% else %}
                                  <input type="text" class="form-control" id="patronymic" name="patronymic" value="" placeholder="Иванович">
                            {% endif %}
                        </div>
          </div>
          <!--
          <div class="col-md-4 mb-3">
            <label for="lastName">Фамилия</label>
            <input type="text" class="form-control" id="lastName" name="lastName" value="" required placeholder="Иванов">
            <div class="invalid-feedback">
              Valid first name is required.
            </div>
          </div>


          <div class="col-md-4 mb-3">
            <label for="firstName">Имя</label>
            <input type="text" class="form-control" id="firstName" name="firstName" value="" required placeholder="Иван">
            <div class="invalid-feedback">
              Valid last name is required.
            </div>
          </div>
          <div class="col-md-4 mb-3">
            <label for="patronymic">Отчество</label>
            <input type="text" class="form-control" name = 'patronymic' id="patronymic" value="" required placeholder="Иванович">
            <div class="invalid-feedback">
              Valid last name is required.
            </div>
          </div>
          -->
          <div class="form-group row">
            <label for="inputEmail3" class="col-sm-3 col-form-label">Email<span class="text-muted">(Необязательно)</span></label>
            <div class="col-sm-9">
                 {% if student.email %}
                      <input type="email" class="form-control"  value="{{student.email}}" id="inputEmail3" placeholder="you@example.com" name = 'email'>
                        <div class="invalid-feedback">
                          Пожалуйста, введите действительный адрес электронной почты.
                        </div>
                 {% else %}
                         <input type="email" class="form-control" id="inputEmail3" placeholder="you@example.com" name = 'email'>
                            <div class="invalid-feedback">
                                Пожалуйста, введите действительный адрес электронной почты.
                            </div>
                 {% endif %}
            </div>
          </div>
       <!--  <div class="mb-3">
          <label  class="col-sm-1 col-form-label" for="email">Email <span class="text-muted">(Необязательно)</span></label>
          <input type="email" class="form-control" id="email" placeholder="you@example.com" name = 'email'>
          <div class="invalid-feedback">
            Please enter a valid email address for shipping updates.
          </div>
        </div>
        -->
       <div class="form-group row">
          <label for="address" class="col-sm-3 col-form-label">Адрес проживания: <i class="text-danger"> &#65121 </i></label>
            <div class="col-sm-9">
              {% if student.address %}
                <input type="text" class="form-control" id="address" value="{{student.address}}" name = 'address' placeholder="ул. Шендрикова 56" required="">
                          <div class="invalid-feedback">
                             Пожалуйста, введите адрес студента.
                          </div>
                {% else %}
                  <input type="text" class="form-control" id="address" name = 'address' placeholder="ул. Шендрикова 56" required="">
                          <div class="invalid-feedback">
                             Пожалуйста, введите адрес студента.
                          </div>
                {% endif %}

            </div>
        </div>
          <div class="form-group row">

          <label for="telephone" class="col-sm-3 col-form-label">Телефон: <i class="text-danger"> &#65121 </i></label>
            <div class="col-sm-9">
                {% if student.telephone %}
                    <input type="number" class="form-control" id="telephone" name = 'telephone' value="{{ student.telephone }}" placeholder="88005553535" required>
                              <div class="invalid-feedback">
                                 Пожалуйста, введите телефон студента.
                              </div>
                {% else %}
                    <input type="number" class="form-control" id="telephone" name = 'telephone' placeholder="88005553535" required>
                              <div class="invalid-feedback">
                                 Пожалуйста, введите телефон студента.
                              </div>
                {% endif %}
            </div>
        </div>
        <div class="mb-3">
            {% if student.country %}
                <label for="country">Страна: <i class="text-danger"> &#65121 </i></label>
                <select class="custom-select d-block w-100" id="country" name = 'country' required="" >
                   <option selected>{{ student.country}}</option>
                   <option>Россия</option>
                   <option>Украина</option>
                   <option>Польша</option>
                   <option>Германия</option>
                </select>
                <div class="invalid-feedback">
                  Пожалуйста, выберите действительную страну.
                </div>
            {% else %}
                <label for="country">Страна: <i class="text-danger"> &#65121 </i></label>
                    <select class="custom-select d-block w-100" id="country" name = 'country' required="" >
                       <option value="">Выберите...</option>
                       <option>Россия</option>
                       <option>Украина</option>
                       <option>Польша</option>
                       <option>Германия</option>
                    </select>
                    <div class="invalid-feedback">
                      Пожалуйста, выберите действительную страну.
                    </div>
            {% endif %}
        </div>
          <hr class="mb-4">

        <div class="mb-3">
            {% if student.group %}
                  <label for="numberFromGroup">Номер группы: <i class="text-danger"> &#65121 </i></label>
                  <select class="custom-select d-block w-100" name="numberFromGroup" id="numberFromGroup"  readonly required="">
                    <option selected>{{ student.group }}</option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                  </select>
                    <div class="invalid-feedback">
                  Пожалуйста, выберите группу студента.
                </div>
            {% else %}
                 <label for="numberFromGroup">Номер группы: <i class="text-danger"> &#65121 </i></label>
                  <select class="custom-select d-block w-100" name="numberFromGroup" id="numberFromGroup" required="">
                      <option value="">Выберите...</option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                  </select>
                    <div class="invalid-feedback">
                  Пожалуйста, выберите группу студента.
                     </div>
            {% endif %}
         </div>
          <div class="mb-3">
              {% if student.course %}
                  <label for="course">Курс: <i class="text-danger"> &#65121 </i></label>
                  <select class="custom-select d-block w-100" name="course" id="course"  readonly required="">
                    <option selected>{{ student.course }}</option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                  </select>
                    <div class="invalid-feedback">
                  Пожалуйста, выберите курс студента.
                </div>
              {% else %}
                   <label for="course">Курс: <i class="text-danger"> &#65121 </i></label>
                  <select class="custom-select d-block w-100" name="course" id="course" required="">
                      <option value="">Выберите...</option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                  </select>
                    <div class="invalid-feedback">
                  Пожалуйста, выберите курс студента.
                    </div>
              {% endif %}
         </div>

        <div class="mb-3">
            {% if student.specialty %}
                  <label for="specialty">Код и Направление подготовки: <i class="text-danger"> &#65121 </i></label>
                  <select class="custom-select d-block w-100l"  name = 'specialty' id="specialty" required="">
                    <option selected>{{ student.specialty }}</option>
                       <option> 09.03.02 Информационные системы и технологии</option>
                    <option>09.03.04 Программная инженерия</option>
                    <option>02.03.01 Математика и компьютерные науки</option>
                    <option>09.03.03 Прикладная информатика</option>
                    <option>10.03.01 Информационная безопасность</option>
                    <!--<option>09.03.02 Информационные системы и технологии</option>
                    <option>09.03.04 Программная инженерия</option>
                    <option>02.03.01 Математика и компьютерные науки</option>
                    <option>09.03.03 Прикладная информатика</option>
                    <option>10.03.01 Информационная безопасность</option>
                    -->
                  </select>
                 <div class="invalid-feedback">
                  Пожалуйста, выберите Код и направление подготовки.
                </div>
            {% else %}
                <label for="specialty">Код и Направление подготовки: <i class="text-danger"> &#65121 </i></label>
                  <select class="custom-select d-block w-100l"  name = 'specialty' id="specialty" required="">
                    <option value="">Выберите...</option>
                    <option> 09.03.02 Информационные системы и технологии</option>
                    <option>09.03.04 Программная инженерия</option>
                    <option>02.03.01 Математика и компьютерные науки</option>
                    <option>09.03.03 Прикладная информатика</option>
                    <option>10.03.01 Информационная безопасность</option>
                    <!--<option>09.03.02 Информационные системы и технологии</option>
                    <option>09.03.04 Программная инженерия</option>
                    <option>02.03.01 Математика и компьютерные науки</option>
                    <option>09.03.03 Прикладная информатика</option>
                    <option>10.03.01 Информационная безопасность</option>
                    -->
                  </select>
                 <div class="invalid-feedback">
                  Пожалуйста, выберите Код и направление подготовки.
                </div>
            {% endif %}
         </div>
          <div class="form-group">
              {% if student.form_group %}
                  <label for="form-of-training">Форма обучения: <i class="text-danger"> &#65121 </i></label>
                  <select class="form-control"  name="form-of-training" id="form-of-training">
                        <option selected>{{ student.form_group }}</option>
                        <option>Очная</option>
                        <option>Заочная</option>
                        <option>Очно-заочная</option>
                  </select>
                   <div class="invalid-feedback">
                            Пожалуйста, выберите форму обучения.
                     </div>
              {% else %}
                  <label for="form-of-training">Форма обучения: <i class="text-danger"> &#65121 </i></label>
                  <select class="form-control"  name="form-of-training" id="form-of-training">
                        <option>Очная</option>
                        <option>Заочная</option>
                        <option>Очно-заочная</option>
                  </select>
                      <div class="invalid-feedback">
                          Пожалуйста, выберите форму обучения.
                      </div>
              {% endif %}
         </div>


           {% if certification %}
                 <div class="text-left">
                             <h5 class="text-primary">Успеваемость студента: </h5>
                      </div>
                {% for mark in certification %}
                      <div class="form-group row ">
                            <label for="subject" class="col-sm-3 col-form-label"> {{ mark.subject.subject_name}} : </label>
                                <div class="col-sm-9">
                                     <input class="form-control" id="subject" value="Общий балл: {{ mark.summa_mark}} / Средний балл: {{ mark.avg_mark }}" readonly>
                                </div>
                      </div>
                 {% endfor%}
            {% endif %}
        <hr class="mb-4">
                <button class="btn btn-primary btn-lg" type="submit" > Сохранить и создать</button>
                <button class="btn btn-lg btn-outline-warning" type="reset">Очистить форму</button>
      </form>
    </div>
  </div>
    <script>
// Example starter JavaScript for disabling form submissions if there are invalid fields
(function() {
  'use strict';
  window.addEventListener('load', function() {
    // Fetch all the forms we want to apply custom Bootstrap validation styles to
    var forms = document.getElementsByClassName('needs-validation');
    // Loop over them and prevent submission
    var validation = Array.prototype.filter.call(forms, function(form) {
      form.addEventListener('submit', function(event) {
        if (form.checkValidity() === false) {
          event.preventDefault();
          event.stopPropagation();
        }
        form.classList.add('was-validated');
      }, false);
    });
  }, false);
})();
</script>

</div>
{% endblock %}